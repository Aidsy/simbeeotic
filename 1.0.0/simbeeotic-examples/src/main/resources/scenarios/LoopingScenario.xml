<?xml version="1.0"?>

<scenario xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xmlns="http://harvard/robobees/simbeeotic/configuration/scenario"
          xsi:schemaLocation="http://harvard/robobees/simbeeotic/configuration/scenario http://some/path/to/schema.xsd">

    <!-- the idea of this scenario is to showcase the capabilities of parameter variation.
         not every feature is shown, but many useful aspects are highlighted. variables
         can be used to construct "gridded" and monte-carlo analyses, amongst others. -->

    <master-seed>

        <!-- the master seed itself can be a variable instead of a constant value. here
             there will be three values drawn from a uniform distribution. these values will
             each see a random number generator that is used to seed other random variables.
             since there are 3 values, the total number of variations for this scenario will
             be three times the number of variations defined by the variables below. -->
        <variable>
            <uniform-random from="0" to="10000000" num-draws="3" seed="112181" seed-source="USER"/>
        </variable>
    </master-seed>

    <simulation>
        <step>0.1</step>
        <end-time>5.0</end-time>
    </simulation>

    <colony>
        <hive>
            <java-class>harvard.robobees.simbeeotic.model.SimpleHive</java-class>
            <position x="0" y="0"/>
        </hive>
        <bee-group>
            <java-class>harvard.robobees.simbeeotic.example.RandomWalkBee</java-class>

            <!-- variable placeholders can be used in property values for the hive and bees. -->
            <properties>
                <prop name="length" value="${bee.len}"/>
                <prop name="range-sensor-sigma" value="${bee.range-sigma}"/>

                <!-- the mass variable has a default value -->
                <prop name="mass" value="${bee.mass}:0.1"/>
            </properties>
            <count>1</count>
        </bee-group>
    </colony>

    <looping repetitions="1">
        <variables>

            <!-- will step evenly through a range of values -->
            <variable name="bee.len">
                <for from="0.2" to="0.3" step="0.01"/>
            </variable>

            <!-- draws 1 value from a norml distribution. it uses a seed drawn from the master random stream -->
            <variable name="bee.mass">
                <normal-random mean="0.1" std-dev="0.02" seed-source="RANDOM_STREAM"/>
            </variable>

            <!-- will select the values (in order) from the given list -->
            <variable name="bee.range-sigma">
                <each>
                    <value>0.1</value>
                    <value>0.13</value>
                    <value>0.32</value>
                </each>
            </variable>
        </variables>
    </looping>
</scenario>